<!--
    Pàgina per "pagar" després de reservar una butaca.
    A més, ara es poden afegir productes del menú a la comanda i descarregar el ticket
-->

{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{% static 'css/pagament.css' %}"/>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.8.0/html2pdf.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script defer src="{% static 'js/pagament.js' %}"></script>
</head>

<body>

    <!-- Mostrem tots els productes en una barra lateral a la dreta -->
    <div class="w3-sidebar w3-bar-block" style="width:25%;right:0;padding-bottom:20%">
        <h3 class="w3-bar-item">Menu</h3>
        {% for producte in productes %}
            <h5 id="producte-nom">{{ producte.nom }}</h5>
            <h5 id="producte-preu">{{ producte.preu }}€</h5>
            <img src="{{ producte.imatge.url }}" class="card-img"><br><br>
            <button data-product="{{ producte.nom }}" data-action="add" class="btn btn-outline-secondary add-btn update-cart">Afegir a la comanda
            </button><br><br><br><br>
        {% endfor %}
    </div>
    <br><br><br>

    <div class="container">
        <div class="inline checkout">
            <h1>Pagament</h1>
            <div class="card-row">
                <span class="visa"></span>
                <span class="mastercard"></span>
                <span class="amex"></span>
                <span class="discover"></span>
            </div>
            <form>
                <div class="form-group">
                    <label for="CreditCardNumber">Número de la targeta</label>
                    <input id="CreditCardNumber" class="null card-image form-control" type="text">
                </div>
                <div class="expiry-date-group form-group">
                    <label for="ExpiryDate">Data de caducitat</label>
                    <input id="ExpiryDate" class="form-control" type="text" placeholder="MM / YY" maxlength="7">
                </div>
                <div class="security-code-group form-group">
                    <label for="SecurityCode">CVV/CVC</label>
                    <div class="input-container">
                        <input id="SecurityCode" class="form-control" type="text">
                        <i id="cvc" class="fa fa-question-circle"></i>
                    </div>
                    <div class="cvc-preview-container two-card hide">
                        <div class="amex-cvc-preview"></div>
                        <div class="visa-mc-dis-cvc-preview"></div>
                    </div>
                </div>
                <button id="PayButton" class="btn btn-block btn-success submit-button" type="submit">
                    <span class="submit-button-lock"></span>
                    <span class="align-middle">Pagar</span>
                </button>
            </form>
        </div>
    </div>
   <div class="container">
        <div id="resum" class="inline checkout">
            <h1>Resum de compra</h1>
            <div class="card-row">

            </div>
            <form id="form">
                <div class="form-group">
                    <label for="preu-total">Preu</label>
                    <input id="preu-total" class="null card-image form-control col-md-6" type="text" value="{{ preu }}€" disabled step=".01">
                </div>
                {% for b in butaca %}
                <div class="form-group">
                    <label for="numSeient">Número de seient</label>
                    <input class="null card-image form-control col-md-6" type="text" value="{{ b }}" disabled>
                </div>
                {% endfor %}
            </form>
        </div>
       <button id="download" class="btn btn-success submit-button">Descarrega el ticket</button>
    </div>

</body>

<footer>

</footer>

</html>